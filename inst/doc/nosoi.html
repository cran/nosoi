<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Sebastian Lequime" />

<meta name="date" content="2024-02-09" />

<title>Getting started</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Getting started</h1>
<h4 class="author">Sebastian Lequime</h4>
<h4 class="date">2024-02-09</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p><code>nosoi</code> aims to provide a modular framework to conduct
epidemiological simulations under a wide range of scenarios, varying
from relatively simple to highly complex and parametric. This
flexibility allows <code>nosoi</code> to take into account the effect of
numerous covariates, taken individually or in the form of interactions,
on the epidemic process, without having to use advanced mathematics to
formalize the model into differential equations. At its core,
<code>nosoi</code> generates a transmission chain (a link between
hosts), the foundation of every epidemic process, allowing to
reconstruct in great details the history of the epidemic.</p>
<p><code>nosoi</code> is an agent-based model, which means it is
centered on individuals, here called “hosts”, that enter the simulation
when they get infected. <code>nosoi</code> is also stochastic, and thus
relies heavily on probabilities, mainly 4 core probabilities. It
operates on a discretized time.</p>
<div id="critical-assumption-of-nosoi" class="section level2">
<h2>Critical assumption of <code>nosoi</code></h2>
<p><code>nosoi</code> assumes that the maximum number of hosts infected
during a simulation is orders of magnitude smaller than the total
exposed population. This means that, currently, it does not take into
account building herd immunity using the simulated epidemic results
<!-- PB: I'm not sure I understand the sentence above. --> (although a
proxy can be used, as it will be discussed in several of the companion
tutorials).</p>
</div>
<div id="essential-building-blocks-3-probabilities-and-2-numbers" class="section level2">
<h2>Essential building blocks: 3 probabilities and 2 numbers</h2>
<p>At its core, <code>nosoi</code> can be summarized by 3 probabilities
and 2 numbers at a specific time point:</p>
<ul>
<li><code>pExit</code> the probability to exit the simulation. For
hosts, that means - for example - dying, being cured, leaving the study
area, etc.</li>
<li><code>pMove</code> the probability to move, only relevant when your
simulation has some kind of structure, either in a discrete or
continuous space. For hosts, that could be - for example - traveling,
changing status (gaining access to treatment), etc.</li>
<li><code>sdMove</code> the standard deviation of the random walk (links
to the distance traveled in coordinate space), only relevant when a
structure is imposed or assumed in a continuous space.</li>
<li><code>nContact</code> the number of contacts. How many potentially
infectious contacts does an infected host have?</li>
<li><code>pTrans</code> the probability to transmit. When a contact
occurs between two hosts, with one of them being infected, the
probability that the infection gets transmitted to the uninfected
one.</li>
</ul>
<p>Each of these probabilities and numbers are computed during the
simulation. In a very simple scenario, each one is a constant. In more
complex models supported by <code>nosoi</code>, these probabilities
could depend on a host’s parameters (e.g. genetics), dynamic parameters
(for how long the host has been infected), environmental parameters
(related to the host’s location), or the particular period of the
simulation (e.g. seasons, mitigation campaign,…). All those parameters
can be taken into account either individually, or for the population as
a whole.</p>
</div>
<div id="what-happens-at-each-time-step" class="section level2">
<h2>What happens at each time step?</h2>
<p>Time is discretized in <code>nosoi</code>. Each time step follows the
same pattern for each host:</p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<ul>
<li><code>pExit</code>: does the host exit the simulation ? This step
samples YES or NO based on the probability <code>pExit</code>.</li>
<li><code>pMove</code>: does the host move (if there is structure) ?
This step samples YES or NO based on the probability
<code>pMove</code>.</li>
<li><code>sdMove</code>: how far does the host move (if the structure is
a continuous space)? This step returns a number used as a distance in
the continuous space, drawn with standard deviation
<code>sdMove</code>.</li>
<li><code>nContact</code>: how many infectious contacts does the host
have? This step yields an integer number <code>nContact</code>.</li>
<li><code>pTrans</code>: if there is an infectious contact, does the
host transmit the infection to a new host? This step samples YES or NO
based on the probability <code>pTrans</code>.</li>
</ul>
<p>After these five propagation steps, the simulation moves to the next
time step.</p>
</div>
</div>
<div id="setting-up-the-core-functions" class="section level1">
<h1>Setting up the core functions</h1>
<p><code>nosoi</code> runs under a series of user-defined probabilities
and numbers (see <a href="nosoi.html#essential-building-blocs-3-probabilities-and-2-numbers">General
principles</a> ). Each follows the same principles to be set up. We
provide here a detailed explanation on how to set up a function
correctly so that it can be used in the simulator. This will apply to
the five core functions already mentioned: <code>pExit</code>,
<code>pMove</code>, <code>sdMove</code>, <code>nContact</code> and
<code>pTrans</code>.</p>
<div id="expected-output" class="section level2">
<h2>Expected output</h2>
<p>Every function which name starts with a <code>p</code>
(i.e. <code>pExit</code>, <code>pMove</code> and <code>pTrans</code>)
should return a single probability (a number between 0 and 1).</p>
<p><code>nContact</code> should return a positive natural number
(positive integer).</p>
<p><code>sdMove</code> should return a real number (keep in mind this
number is related to your coordinate space).</p>
</div>
<div id="functions-arguments" class="section level2">
<h2>Functions’ arguments</h2>
<div id="t" class="section level3">
<h3><code>t</code></h3>
<p>A core function in <code>nosoi</code> should always explicitly depend
on the time <code>t</code> (e.g. <code>pExit(t)</code>), even if
<code>t</code> is not used within the body of the function. For
instance, to return a single constant value of 0.08, the function should
be expressed as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t){<span class="fl">0.08</span>}</span></code></pre></div>
<!-- This will return a single value (0.08). -->
<p>The argument <code>t</code> represents the time since the host’s
initial infection, and can be included in the body of the function, to
model a time-varying probability or number. For instance, a quantity
depending on the following function will evolve in time as a logistic
distribution with parameters <span class="math inline">\(\mu\)</span> 10
and <span class="math inline">\(s\)</span> 2:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t){<span class="fu">plogis</span>(t,<span class="dv">10</span>,<span class="dv">2</span>)}</span></code></pre></div>
<!-- Here the probability/number will follow a logistic distribution with parameters $\mu$ 10 and $s$ 2. -->
</div>
<div id="prestime" class="section level3">
<h3><code>prestime</code></h3>
<p>The argument <code>prestime</code> can be used to represent the
<em>absolute</em> time of the simulation, shared by all the hosts (as
opposed to the relative time since infection <code>t</code>, which is
individual-dependent). For instance, the following function can be used
to produce a periodic pattern:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,prestime){(<span class="fu">sin</span>(prestime<span class="sc">/</span><span class="dv">12</span>)<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">2</span>}</span></code></pre></div>
<!-- In that specific case, the function will return values following a periodic pattern. -->
</div>
<div id="current.in-and-current.env.value" class="section level3">
<h3><code>current.in</code> and <code>current.env.value</code></h3>
<p>The arguments <code>current.in</code> (discrete structure) or
<code>current.env.value</code> (continuous structure) can be used to
represent the location of the host (only if a structured population is
used), as shown below:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,current.in){</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;A&quot;</span>){<span class="fu">return</span>(<span class="dv">0</span>)}</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;B&quot;</span>){<span class="fu">return</span>(<span class="fl">0.5</span>)}</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;C&quot;</span>){<span class="fu">return</span>(<span class="dv">1</span>)}} <span class="co">#discrete (between states &quot;A&quot;,&quot;B&quot; and &quot;C&quot;)</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,current.env.value){current.env.value<span class="sc">/</span><span class="dv">100</span>} <span class="co">#continuous</span></span></code></pre></div>
<p>For more details on how to set up the influence of the structure, we
refer to the tutorials on <a href="discrete.html">discrete</a> and <a href="continuous.html">continuous</a> structure.</p>
</div>
<div id="host.count" class="section level3">
<h3><code>host.count</code></h3>
<p>The argument <code>host.count</code> can be used to represent the
number of hosts present at a given location (only for a structured
population), as in the following:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,current.in, host.count){</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;A&quot;</span>){<span class="fu">return</span>(<span class="dv">0</span>)}</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;B&quot;</span> <span class="sc">&amp;</span> host.count <span class="sc">&lt;</span> <span class="dv">300</span> ){<span class="fu">return</span>(<span class="fl">0.5</span>)}</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;B&quot;</span> <span class="sc">&amp;</span> host.count <span class="sc">&gt;=</span> <span class="dv">300</span> ){<span class="fu">return</span>(<span class="dv">0</span>)}</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="cf">if</span>(current.in<span class="sc">==</span><span class="st">&quot;C&quot;</span>){<span class="fu">return</span>(<span class="dv">1</span>)}} <span class="co">#discrete (between states &quot;A&quot;,&quot;B&quot; and &quot;C&quot;)</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,current.env.value,host.count){(current.env.value<span class="sc">-</span>host.count)<span class="sc">/</span><span class="dv">100</span>} <span class="co">#continuous</span></span></code></pre></div>
</div>
</div>
<div id="extra-parameters" class="section level2">
<h2>Extra Parameters</h2>
<p>Any of the parameters used in these functions can be themselves
dependent on the individual host (in order to include some heterogeneity
between host). For instance, the <span class="math inline">\(\mu\)</span> parameter of a logistic distribution
can be determined for each individual host by another function to be
specified:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t,pFunction.param1){<span class="fu">plogis</span>(t,pFunction.param1,<span class="dv">2</span>)}</span></code></pre></div>
<!-- In this case, the $\mu$ parameter will be determined for each individual host by another function that you have to specify. Here we will use: -->
<p>Where for instance <span class="math inline">\(\mu\)</span> can be
sampled from a normal distribution (mean = 10 and sd = 2):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>p_Function_param1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fu">rnorm</span>(x,<span class="at">mean=</span><span class="dv">10</span>,<span class="at">sd=</span><span class="dv">2</span>)} <span class="co">#sampling one parameter for each infected individual</span></span></code></pre></div>
<p>Notice here that the function is expressed as a function of
<code>x</code> instead of <code>t</code>. <code>x</code> is present in
the body of the function as the number of draws to make from the
distribution.</p>
<p>Every parameter function you specify should be gathered into a list,
where the function determining the parameter for each individual (here,
<code>p_Function_param1</code>) has to be named according to the name
used in <code>p_Function</code> for this parameter (here,
<code>pFunction.param1</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>p_Function_parameters  <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">pFunction.param1 =</span> p_Function_param1)</span></code></pre></div>
</div>
<div id="combining-arguments" class="section level2">
<h2>Combining arguments</h2>
<p>We have previously shown that you can combine the time since
infection <code>t</code> with other parameters such as
<code>current.in</code> or <code>prestime</code>. In fact, you can
combine as many arguments as you want, making a function dependent on
the time since infection, current location, present time and individual
host-dependent parameters. They however need to respect a specific order
to be correctly parsed by the simulator: first <code>t</code>, then
<code>prestime</code>, then <code>current.in</code> (discrete) or
<code>current.env.value</code> (continuous) and finally individual
host-dependent parameters.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>p_Function  <span class="ot">&lt;-</span> <span class="cf">function</span>(t, prestime, current.in, pFunction.param1, pFunction.param2,...){}</span></code></pre></div>
</div>
</div>
<div id="going-further" class="section level1">
<h1>Going further</h1>
<p>Once your core functions are ready, you can provide everything
<code>nosoi</code> needs to run a simulation. A series of tutorials will
guide you in how to set up <code>nosoi</code> depending on your case,
both for single host and dual host scenarios:</p>
<ol style="list-style-type: decimal">
<li><a href="none.html">Spread of a pathogen in a homogeneous population
(no structure) of hosts</a>, a “simple” scenario.</li>
<li><a href="discrete.html">Spread of a pathogen in a structured
(discrete) population of hosts</a>.</li>
<li><a href="continuous.html">Spread of a pathogen in a structure
(continuous) population of hosts</a>.</li>
</ol>
<p>To get basic statistics or approximated phylogenetic trees out of
your simulations output, you can have a look at <a href="output.html">this page</a>. To visualize your simulations, you can
have a look at <a href="https://slequime.github.io/nosoi/articles/examples/viz.html">these
few examples</a>.</p>
<p>A series of practical examples are also available:</p>
<ul>
<li><a href="https://slequime.github.io/nosoi/articles/examples/dengue.html">Spread
of dengue virus in a discrete space</a>.</li>
<li><a href="https://slequime.github.io/nosoi/articles/examples/ebola.html">Spread
of Ebola virus in a continuous space</a>.</li>
<li><a href="https://slequime.github.io/nosoi/articles/examples/vector-competence.html">Epidemiological
impact of mosquito vector competence</a>.</li>
</ul>
<!-- PB: If the examples are not on the CRAN, could these dead link be a problem ? -->
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
